(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,a,t){e.exports=t(213)},128:function(e,a,t){},18:function(e,a,t){e.exports={listContainer:"List_listContainer__7Vk_n",searchContainer:"List_searchContainer__1Tzoa",cur:"List_cur__2IY9y",searchTop:"List_searchTop__2U5OW",left:"List_left__2_NIi",right:"List_right__3QW3j"}},213:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(2),s=t.n(c),l=(t(127),t(128),t(12)),o=t.n(l),i=t(44),m=t(20),u=t(11),d=t(4),p=t(18),f=t.n(p),h="https://douban-1300076408.cos.ap-guangzhou.myqcloud.com/alt.png",E="https://douban-1300076408.cos.ap-guangzhou.myqcloud.com";var g=t(29),v=t.n(g);var b=t(5),N=t.n(b),w=t(217);function y(e){var a=e.article,t=e.style,n=e.newestType;r.a.useEffect(function(){},[]);var c=a.imgLinks&&a.imgLinks.length,s=["volcano","blue","cyan","gold","geekblue","magenta","lime","red"],l=c?"":N.a.noImg,o="publish"===n;return r.a.createElement("div",{className:"".concat(N.a.listItem," ").concat(l),style:t},r.a.createElement("a",{href:a.link,className:N.a.card},c?r.a.createElement("div",{className:N.a.imgContainer},r.a.createElement("img",{src:"".concat(a.imgLinks[0]),width:t.width,height:t.width*a.imgRate})):"",r.a.createElement("div",{className:N.a.textContainer},r.a.createElement("div",{className:N.a.dataContainer},r.a.createElement("span",{title:a.isEliteArticle?"\u7cbe\u534e\u5e16 - ".concat(a.title):a.title},r.a.createElement("span",{className:N.a.title},a.isEliteArticle?r.a.createElement("i",{className:"icon-heart"},"\u7cbe"):"","".concat(a.title)))),r.a.createElement("div",{className:N.a.dataContainer},r.a.createElement("span",{title:"\u5185\u5bb9\uff1a".concat(a.frontContent)},r.a.createElement("span",{className:N.a.frontContent},a.frontContent))),r.a.createElement("div",{className:N.a.dataContainer},r.a.createElement("span",{title:"\u4f5c\u8005\uff1a".concat(a.author)},r.a.createElement("img",{className:N.a.authorPic,src:a.authorPic}),r.a.createElement("span",{className:N.a.author},a.author))),r.a.createElement("div",{className:N.a.dataContainer},r.a.createElement("span",{className:N.a.dataItem,title:"\u6587\u7ae0\u5185\u5bb9\u957f\u5ea6\uff1a".concat(a.contentLength)},r.a.createElement("i",{className:"icon-contentLength"}),r.a.createElement("span",{className:N.a.text},"\u6587\u957f",a.contentLength)),r.a.createElement("span",{className:N.a.dataItem,title:"\u7167\u7247\u6570\u91cf\uff1a".concat(c?a.imgLinks.length:0)},r.a.createElement("i",{className:"icon-photo"}),r.a.createElement("span",{className:N.a.text},"\u7167\u7247",c?a.imgLinks.length:0))),r.a.createElement("div",{className:N.a.dataContainer},r.a.createElement("span",{className:N.a.dataItem,title:"\u8bc4\u8bba\u6570\uff1a".concat(a.responseCount)},r.a.createElement("i",{className:"icon-response2"}),r.a.createElement("span",{className:N.a.text},"\u8bc4\u8bba",a.responseCount)),r.a.createElement("span",{className:N.a.dataItem,title:"\u70b9\u8d5e\u6570\uff1a".concat(a.likeCount)},r.a.createElement("i",{className:"icon-like"}),r.a.createElement("span",{className:N.a.text},"\u70b9\u8d5e",a.likeCount))),r.a.createElement("div",{className:N.a.dataContainer},r.a.createElement("span",{className:N.a.keyWordContainer,title:"\u5173\u952e\u8bcd\uff1a".concat(a.keyWords.join("\uff0c"))},a.keyWords.map(function(e,a){return r.a.createElement(w.a,{key:a,className:N.a.tag,color:s[a%8]},e)}))),r.a.createElement("div",{className:"".concat(N.a.dataContainer," ").concat(N.a.publishTimeContainer)},r.a.createElement("span",null,r.a.createElement("i",{className:"icon-time"}),r.a.createElement("span",{className:N.a.publishTime},o?a.publishTime:a.lastResponse))))))}var O=t(216),k=t(218),_=t(215),x=t(65),C=t.n(x),j=t(111),S=t.n(j);function L(){var e=function(){return Math.floor(.96*document.body.clientWidth)},a=r.a.useState([]),t=Object(d.a)(a,2),n=t[0],c=t[1],s=r.a.useState(e()),l=Object(d.a)(s,2),o=l[0],i=l[1],m={itemMargin:10,itemClassName:"articleItem",transitionDuration:".5",gridWidth:10,transitionTimingFunction:"easeIn",containerWidth:o};!function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,n={current:function(e){}};r.a.useEffect(function(){n.current=a},[a]),r.a.useEffect(function(){if(t&&t.addEventListener){var a=function(e){return n.current(e)};return t.addEventListener(e,a),function(){t.removeEventListener(e,a)}}},[e,t])}("resize",function(){i(e)});O.a.Option;var u=r.a.useState("publish"),p=Object(d.a)(u,2),h=p[0],g=p[1];function b(e){g(e),"publish"==e?N():function(){var e=C()(n);e.sort(function(e,a){return new Date(a.lastResponse||"1970-12-12 00:00:00").getTime()-new Date(e.lastResponse).getTime()}),c(e)}()}function N(e){var a=e||C()(n);a.sort(function(e,a){return new Date(a.publishTime).getTime()-new Date(e.publishTime).getTime()}),c(a)}var w={type:[{id:"all",name:"\u5168\u90e8"},{id:"makeFriends",name:"\u5f81\u53cb"},{id:"discuss",name:"\u8ba8\u8bba"},{id:"help",name:"\u4e92\u52a9"},{id:"share",name:"\u5206\u4eab"},{id:"diary",name:"\u65e5\u8bb0"}],place:[{id:"all",name:"\u5168\u90e8"},{id:"shenzhen",name:"\u6df1\u5733"},{id:"guangzhou",name:"\u5e7f\u5dde"},{id:"beijing",name:"\u5317\u4eac"},{id:"shanghai",name:"\u4e0a\u6d77"},{id:"chengdu",name:"\u6210\u90fd"},{id:"hangzhou",name:"\u676d\u5dde"},{id:"otherPlace",name:"\u5176\u4ed6"}],hobby:[{id:"all",name:"\u5168\u90e8"},{id:"sports",name:"\u8fd0\u52a8"},{id:"game",name:"\u6e38\u620f"},{id:"music",name:"\u97f3\u4e50"},{id:"travel",name:"\u65c5\u884c"},{id:"food",name:"\u7f8e\u98df"},{id:"takePicture",name:"\u6444\u5f71"},{id:"pet",name:"\u5ba0\u7269"},{id:"otherHobby",name:"\u5176\u4ed6"}],work:[{id:"all",name:"\u5168\u90e8"},{id:"internet",name:"\u4e92\u8054\u7f51"},{id:"private",name:"\u4e2a\u4eba"},{id:"financial",name:"\u91d1\u878d"},{id:"education",name:"\u6559\u80b2"},{id:"student",name:"\u5b66\u751f"},{id:"otherWork",name:"\u5176\u4ed6"}],condition:[{id:"all",name:"\u5168\u90e8"},{id:"1",name:"1"},{id:"0",name:"0"},{id:"0.5",name:"0.5"},{id:"out",name:"\u51fa\u67dc"},{id:"formMarriage",name:"\u5f62\u5a5a"},{id:"neverMarriage",name:"\u4e0d\u5a5a"},{id:"marriaged",name:"\u5df2\u5a5a"},{id:"stable",name:"\u7a33\u5b9a"},{id:"otherCondition",name:"\u5176\u4ed6"}],tag:[{id:"all",name:"\u5168\u90e8"},{id:"house",name:"\u79df\u623f"},{id:"highEducation",name:"\u9ad8\u5b66\u5386"},{id:"aids",name:"\u827e\u6ecb"},{id:"depression",name:"\u6291\u90c1"},{id:"soldier",name:"\u519b\u4eba"},{id:"uncle",name:"\u5927\u53d4"},{id:"spring",name:"\u6625\u8282"},{id:"open",name:"\u5f00\u653e\u5f0f"},{id:"otherTag",name:"\u5176\u4ed6"}]},x=r.a.useState("all"),j=Object(d.a)(x,2),L=j[0],I=j[1],T=r.a.useState("all"),D=Object(d.a)(T,2),R=(D[0],D[1],r.a.useState("all")),U=Object(d.a)(R,2),W=(U[0],U[1],r.a.useState("all")),A=Object(d.a)(W,2),P=(A[0],A[1],r.a.useState("all")),z=Object(d.a)(P,2),M=(z[0],z[1],r.a.useState("all")),F=Object(d.a)(M,2),G=(F[0],F[1],r.a.useState("all")),J=Object(d.a)(G,2),Y=(J[0],J[1],r.a.useState("all")),q=Object(d.a)(Y,2),H=q[0];q[1];return r.a.useEffect(function(){new Promise(function(e,a){try{v.a.get("".concat(E,"/listData.js")).then(function(a){e(a.data.list)},function(e){console.log(e),a()})}catch(t){console.log(t),a()}}).then(function(e){N(function(e){var a=C()(e);return a=a.filter(function(e){return e.link})}(e))})},[]),r.a.createElement("div",{id:"home-list",className:f.a.homeList},r.a.createElement(k.a,null),r.a.createElement("div",{className:f.a.searchContainer},r.a.createElement("div",{className:f.a.searchTop},r.a.createElement("div",{className:f.a.left},r.a.createElement("i",{className:"icon-filter"}),r.a.createElement("span",null,"\u8fc7\u6ee4")),r.a.createElement("div",{className:f.a.right},[{id:"publish",name:"\u6700\u65b0\u53d1\u5e03"},{id:""},{id:"comment",name:"\u6700\u65b0\u8bc4\u8bba"}].map(function(e,a){return e.id?r.a.createElement("span",{key:a,className:h===e.id?f.a.cur:"",onClick:function(){b(e.id)}},e.name):r.a.createElement(_.a,{key:20,type:"vertical"})}))),r.a.createElement("div",{className:f.a.searchCategory},r.a.createElement("ul",null,[{id:"all",name:"\u5168\u90e8"},{id:"type",name:"\u7c7b\u578b"},{id:"place",name:"\u4f4d\u7f6e"},{id:"hobby",name:"\u7231\u597d"},{id:"work",name:"\u5de5\u4f5c"},{id:"condition",name:"\u6761\u4ef6"},{id:"tag",name:"\u6807\u7b7e"}].map(function(e,a){return r.a.createElement("li",{onClick:function(){var a;a=e.id,I(a)},key:a,id:e.id,className:L===e.id?f.a.cur:""},e.name)}))),r.a.createElement("div",{className:f.a.secondSearch},r.a.createElement("ul",null,L&&"all"!=L&&w[L].map(function(e,a){return r.a.createElement("li",{onClick:function(){},key:e.id+a,id:e.id,className:H===e.id?f.a.cur:""},e.name)}))),r.a.createElement("div",{className:f.a.listContainer},r.a.createElement(S.a,m,n.map(function(e,a){e.keyWords||(e.keyWords=[]);var t=Math.floor(o/2-16),n=48+(e.frontContent?54:0)+24+54+22*Math.ceil(e.keyWords.length/3)+92,c=e.imgRate?t*e.imgRate+n:n;return r.a.createElement(y,{key:e.link+a,newestType:h,article:e,style:{width:t,height:c}})})))))}function I(e){return r.a.createElement("div",{className:"home-page"},r.a.createElement(L,null))}var T=t(43),D=t(36),R=t(118),U=t.n(R),W="token";function A(e){e?v.a.defaults.headers.common.Authorization="Token ".concat(e):delete v.a.defaults.headers.common.Authorization}v.a.defaults.baseURL="https://conduit.productionready.io/api",v.a.interceptors.response.use(function(e){return e},function(e){switch(e.response.status){case 401:Object(u.d)("/register");break;case 404:case 403:Object(u.d)("/")}return Promise.reject(e.response)});var P=v.a;function z(e){var a,t,n=e.user,r=n.token,c=Object(i.a)(n,["token"]);return a=W,t=r,localStorage.setItem(a,JSON.stringify(t)),A(r),c}function M(e,a){return P.post("/users/login",{user:{email:e,password:a}}).then(function(e){return z(e.data)})}function F(){localStorage.removeItem(W),A(null)}var G={isAuthenticated:!1,user:null};function J(e,a){switch(a.type){case"LOGIN":return Object(D.a)({},e,{isAuthenticated:!0});case"LOAD_USER":return Object(D.a)({},e,{user:a.user});case"LOGOUT":return{isAuthenticated:!1,user:null};default:return e}}var Y=r.a.createContext({state:G,dispatch:function(){return G}});function q(e){var a=r.a.useReducer(J,G),t=Object(d.a)(a,2),n=t[0],c=t[1];return r.a.useEffect(function(){var e=function(e){var a=localStorage.getItem(e);if(!a)return null;try{return JSON.parse(a)}catch(t){return null}}(W);e&&(!function(e){try{var a=U()(e),t=Date.now().valueOf()/1e3;return a.exp>t}catch(n){return!1}}(e)?(c({type:"LOGOUT"}),F()):(A(e),c({type:"LOGIN"})))},[]),r.a.createElement(Y.Provider,Object.assign({value:{state:n,dispatch:c}},e))}function H(){return r.a.useContext(Y)}function B(e){var a=e.errors;return r.a.createElement("ul",{className:"error-messages"},Object.entries(a).map(function(e,a){var t=Object(d.a)(e,2),n=t[0];return t[1].map(function(e){return r.a.createElement("li",{key:a},n," ",e)})}))}function K(e){var a=r.a.useState({username:"",email:"",password:""}),t=Object(d.a)(a,2),n=t[0],c=t[1],s=r.a.useState(!1),l=Object(d.a)(s,2),i=l[0],p=l[1],f=r.a.useState(null),h=Object(d.a)(f,2),E=h[0],g=h[1],v=H(),b=v.state.user,N=v.dispatch,w=function(e){c(Object(D.a)({},n,Object(T.a)({},e.currentTarget.name,e.currentTarget.value)))},y=function(){var e=Object(m.a)(o.a.mark(function e(a){var t,r,c,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),p(!0),t=n.username,r=n.email,c=n.password,e.prev=3,e.next=6,l={username:t,email:r,password:c},P.post("/users",{user:l}).then(function(e){return z(e.data)});case 6:s=e.sent,N({type:"LOAD_USER",user:s}),Object(u.d)("/"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),p(!1),422===e.t0.status&&g(e.t0.data.errors);case 16:case"end":return e.stop()}var l},e,null,[[3,11]])}));return function(a){return e.apply(this,arguments)}}();return b?r.a.createElement(u.b,{to:"/",noThrow:!0}):r.a.createElement("div",{className:"auth-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},"Sign up"),r.a.createElement("p",{className:"text-xs-center"},r.a.createElement(u.a,{to:"/login"},"Have an account?")),E&&r.a.createElement(B,{errors:E}),r.a.createElement("form",{onSubmit:y},r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{name:"username",className:"form-control form-control-lg",type:"text",value:n.username,placeholder:"Your Name",onChange:w})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{name:"email",className:"form-control form-control-lg",type:"email",value:n.email,placeholder:"Email",onChange:w})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{name:"password",className:"form-control form-control-lg",type:"password",value:n.password,placeholder:"Password",onChange:w})),r.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",disabled:i},"Sign Up"))))))}function Q(e){var a=r.a.useState(""),t=Object(d.a)(a,2),n=t[0],c=t[1],s=r.a.useState(""),l=Object(d.a)(s,2),i=l[0],p=l[1],f=r.a.useState(!1),h=Object(d.a)(f,2),E=h[0],g=h[1],v=r.a.useState(),b=Object(d.a)(v,2),N=b[0],w=b[1],y=H(),O=y.state.user,k=y.dispatch,_=function(){var e=Object(m.a)(o.a.mark(function e(a){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),g(!0),e.prev=2,e.next=5,M(n,i);case 5:t=e.sent,k({type:"LOAD_USER",user:t}),Object(u.d)("/"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),g(!1),422===e.t0.status&&w(e.t0.data.errors);case 15:case"end":return e.stop()}},e,null,[[2,10]])}));return function(a){return e.apply(this,arguments)}}();return O?r.a.createElement(u.b,{to:"/",noThrow:!0}):r.a.createElement("div",{className:"auth-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},"Sign in"),r.a.createElement("p",{className:"text-xs-center"},r.a.createElement(u.a,{to:"/register"},"Need an account?")),N&&r.a.createElement(B,{errors:N}),r.a.createElement("form",{onSubmit:_},r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{name:"email",className:"form-control form-control-lg",type:"email",value:n,placeholder:"Email",onChange:function(e){return c(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{name:"password",className:"form-control form-control-lg",type:"password",value:i,placeholder:"Password",onChange:function(e){return p(e.target.value)}})),r.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",disabled:E},"Sign In"))))))}function V(e){var a=e.profile,t=e.onClick,n=e.loading,c=["btn","btn-sm","action-btn"],s="";return a.following?(c.push("btn-secondary"),s+="Unfollow ".concat(a.username)):(c.push("btn-outline-secondary"),s+="Follow ".concat(a.username)),r.a.createElement("button",{className:c.join(" "),onClick:t,disabled:n},r.a.createElement("i",{className:"ion-plus-round"}),"\xa0",s)}function Z(e){return P.post("/profiles/".concat(e,"/follow"))}function X(e){return P.get("/profiles/".concat(e))}function $(e){var a=e.username,t=void 0===a?"":a,n=r.a.useState(null),c=Object(d.a)(n,2),s=c[0],l=c[1],i=r.a.useState(!1),u=Object(d.a)(i,2),p=u[0],f=u[1],E=H().state.user;r.a.useEffect(function(){var e=!1;function a(){return(a=Object(m.a)(o.a.mark(function a(){var n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,X(t);case 3:n=a.sent,e||l(n.data.profile),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}},a,null,[[0,7]])}))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){e=!0}},[t]);var g=function(){var e=Object(m.a)(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:if(f(!0),e.prev=3,!s.following){e.next=10;break}return e.next=7,t=s.username,P.delete("/profiles/".concat(t,"/follow"));case 7:a=e.sent,e.next=13;break;case 10:return e.next=12,Z(s.username);case 12:a=e.sent;case 13:l(a.data.profile),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:f(!1);case 20:case"end":return e.stop()}var t},e,null,[[3,16]])}));return function(){return e.apply(this,arguments)}}(),v=s&&E&&s.username===E.username;return s&&r.a.createElement("div",{className:"profile-page"},r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},r.a.createElement("img",{src:s.image||h,className:"user-img",alt:s.username}),r.a.createElement("h4",null,s.username),r.a.createElement("p",null,s.bio),v?r.a.createElement(ee,null):r.a.createElement(V,{profile:s,onClick:g,loading:p}))))))}function ee(){return r.a.createElement(u.a,{to:"/settings",className:"btn btn-sm btn-outline-secondary action-btn"},r.a.createElement("i",{className:"ion-gear-a"})," Edit Profile Settings")}function ae(e){var a=H(),t=a.state.user,n=a.dispatch,c=r.a.useState(!1),s=Object(d.a)(c,2),l=s[0],i=s[1],p=r.a.useState(null),f=Object(d.a)(p,2),h=f[0],E=f[1],g=r.a.useState({username:"",email:"",image:"",bio:"",password:""}),v=Object(d.a)(g,2),b=v[0],N=v[1];r.a.useEffect(function(){if(t){var e=t.username,a=t.email,n=t.image,r=t.bio;console.log(e,a,n,r),N({username:e,email:a,image:n||"",bio:r||"",password:""})}},[t]);var w=function(e){N(Object(D.a)({},b,Object(T.a)({},e.currentTarget.name,e.currentTarget.value)))},y=function(){var e=Object(m.a)(o.a.mark(function e(a){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),i(!0),b.password||delete b.password,e.prev=3,e.next=6,r=b,P.put("/user",{user:r});case 6:t=e.sent,n({type:"LOAD_USER",user:t.data.user}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),422===e.t0.status&&E(e.t0.data.errors);case 14:i(!1);case 15:case"end":return e.stop()}var r},e,null,[[3,10]])}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"settings-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},"Your Settings"),h&&r.a.createElement(B,{errors:h}),r.a.createElement("form",{onSubmit:y},r.a.createElement("fieldset",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"image",className:"form-control",type:"text",placeholder:"URL of profile picture",value:b.image,onChange:w})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"username",className:"form-control form-control-lg",type:"text",placeholder:"Username",value:b.username,onChange:w})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{name:"bio",className:"form-control form-control-lg",rows:8,placeholder:"Short bio about you",value:b.bio,onChange:w})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"email",className:"form-control form-control-lg",type:"email",placeholder:"Email",value:b.email,onChange:w})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"password",className:"form-control form-control-lg",type:"password",placeholder:"New Password",value:b.password,onChange:w})),r.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",disabled:l},"Update Settings"))),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){n({type:"LOGOUT"}),F(),Object(u.d)("/")}},"Or click here to logout.")))))}function te(e){var a=e.as,t=Object(i.a)(e,["as"]);return H().state.user?r.a.createElement(a,t):r.a.createElement(I,null)}function ne(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.c,null,r.a.createElement(u.b,{from:"/",to:"/douban/home",noThrow:!0,default:!0}),r.a.createElement(I,{path:"/douban/home"}),r.a.createElement(K,{path:"/douban/register"}),r.a.createElement(Q,{path:"login"}),r.a.createElement($,{path:":username"}),r.a.createElement(te,{as:ae,path:"/settings"})))}function re(){var e=H(),a=e.state,t=a.user,n=a.isAuthenticated,c=e.dispatch;return r.a.useEffect(function(){var e=!1;function a(){return(a=Object(m.a)(o.a.mark(function a(){var t,n,r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.get("/user");case 3:t=a.sent,n=t.data.user,n.token,r=Object(i.a)(n,["token"]),e||c({type:"LOAD_USER",user:r}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}},a,null,[[0,8]])}))).apply(this,arguments)}return!t&&n&&function(){a.apply(this,arguments)}(),function(){e=!0}},[c,n,t]),!t&&n?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,null))}t(212);s.a.render(r.a.createElement(function(){return r.a.createElement(q,null,r.a.createElement(re,null))},null),document.getElementById("root"))},5:function(e,a,t){e.exports={listItem:"ListItem_listItem__2Kpsv",noImg:"ListItem_noImg__NLfhW",dataContainer:"ListItem_dataContainer__kZO2k",tag:"ListItem_tag__3NL6f",textContainer:"ListItem_textContainer__2Ewqv",imgContainer:"ListItem_imgContainer__3f48Y",authorPic:"ListItem_authorPic__3tsWT",title:"ListItem_title__2C4C0",frontContent:"ListItem_frontContent__19ceW",author:"ListItem_author__3LTIe",dataItem:"ListItem_dataItem__2x53R"}}},[[122,1,2]]]);
//# sourceMappingURL=main.17bfe4a1.chunk.js.map